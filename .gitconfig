[user]
	name = Alphonse Mariya
	email = alphonse.mariya@hotmail.com
	signingkey = 24D4C85E7B4585A9

[core]
	editor = vim
	pager = less -S
	whitespace = fix,trailing-space,cr-at-eol
	hooksPath = ~/.config/git/hooks
	excludesfile = ~/.ignore

[credential]
	helper = cache

[color]
	branch = true
	diff = true
	grep = true
	interactive = true
	pager = true
	showBranch = true
	status = true
	ui = true

[color "diff"]
	context = 15
	meta = 4 bold reverse
	frag = 3 bold reverse
	commit = 3 bold
	old = 9
	new = 10
	oldMoved = 8
	newMoved = 14
	whitespace = 1 reverse

[color "decorate"]
	branch = 2 bold
	remoteBranch = 1 bold
	tag = 3 bold
	stash = 5 bold
	HEAD = 6 bold

[color "interactive"]
	prompt = 4 bold
	header = 15 bold
	help = 15
	error = 1

[color "status"]
	header = 15 bold
	added = 14 bold
	changed = 11 bold
	untracked = 9 bold
	branch = 15 bold
	nobranch = 9 bold reverse
	localBranch = 2 bold
	remoteBranch = 1 bold
	unmerged = 1 bold reverse

[commit]
	gpgSign = true

[diff]
	tool = vimdiff
	colorMoved = default
	renames = copy
	wsErrorHighlight = all

[difftool]
	prompt = false

[merge]
	ff = false
	tool = vim-diffconflicts

[mergetool]
	prompt = false
	keepBackup = false
	writeToTemp = true

[mergetool "vim-diffconflicts"]
	cmd = vim -c DiffConflicts "$MERGED" "$BASE" "$LOCAL" "$REMOTE"
	trustExitCode = true

[mergetool "diffconflicts"]
	cmd = diffconflicts vim "$BASE" "$LOCAL" "$REMOTE" "$MERGED"
	trustExitCode = true

[mergetool "fugitive"]
	cmd = vim -f -c "Gvdiff" "$MERGED"
	trustExitCode = true

[rebase]
	missingCommitsCheck = warn
	abbreviateCommands = false

[fetch]
	prune = true

[pull]
	rebase = interactive

[push]
	default = simple
	gpgSign = if-asked
	followTags = true

[submodule]
	fetchJobs = 0

[grep]
	lineNumber = true
	patternType = perl

[interactive]
	singlekey = true

[status]
	short = true
	branch = true
	showStash = true
	submoduleSummary = true

[log]
	abbrevCommit = true
	decorate = short
	date = format:%a, %Y-%m-%d %R (%z)
	graphColors = 1,2,3,4,5,6,8,166,9,10,11,12,13,14,15,208

[rerere]
	enabled = true

[protocol]
	version = 2

[url "git@github.com:"]
	insteadOf = @gh:

[url "git@gitlab.com:"]
	insteadOf = @gl:

[url "git@bitbucket.org:"]
	insteadOf = @bb:

[url "https://github.com/"]
	insteadOf = gh://

[url "https://gitlab.com/"]
	insteadOf = gl://

[url "https://bitbucket.org/"]
	insteadOf = bb://

[url "https://aur.archlinux.org/"]
	insteadOf = aur://

[pretty]
	custom-oneline = %C(auto)%h%C(reset)%C(auto)%d%C(reset) %s %C(italic blue)%ad%C(reset) %C(241)%an%C(reset)
	custom-twoline = %C(auto)%h%C(reset) %C(white)-%C(reset) %C(italic blue)%ad%C(reset) %C(italic cyan)(%ar)%C(reset)%C(auto)%d%C(reset)%n %C(white)â¤·%C(reset) %s %C(241)- %an <%ae>%C(reset)%n
	custom-fuller = %C(auto)%h%C(reset)%C(auto)%d%C(reset)%n%C(white)SHA-1:%C(reset)    %C(italic)%H%C(reset)%n%C(white)Author:%C(reset)   %an %C(241)<%ae>%C(reset)%n          %C(italic blue)%ad%C(reset) %C(italic cyan)(%ar)%C(reset)%n%C(white)Commit:%C(reset)   %cn %C(241)<%ce>%C(reset)%n          %C(italic blue)%cd%C(reset) %C(italic cyan)(%cr)%C(reset)%w(0,4,4)%n%+C(bold)%s%C(reset)%n%+b%n
	custom-reflog = %C(auto)%h%C(reset) %C(white)-%C(reset) %C(italic blue)%ad%C(reset) %C(italic cyan)(%ar)%C(reset)%C(auto)%d%C(reset)%n %C(white)â¤·%C(reset) %s %C(241)- %an <%ae>%C(reset)%n %C(white)â¤·%C(reset) %C(bold yellow)(%C(red)%gd%C(bold yellow))%C(reset) %gs %C(241)- %gn <%ge>%C(reset)%n
	custom-oneline-reflog = %C(auto)%h%C(reset) %C(bold yellow)(%C(red)%gd%C(bold yellow))%C(reset)%C(auto)%d%C(reset) %s %C(italic blue)%ad%C(reset) %C(241)%an%C(reset)

[alias]
	ec = config --global --edit

	# log, current branch
	l = log --pretty=custom-twoline --graph --color
	lo = log --pretty=custom-oneline --graph --color --date=short
	lf = log --pretty=custom-fuller --graph --color
	lff = log --pretty=fuller --graph --color --stat --summary
	lp = log --pretty=medium --patch --graph --color -c
	ld = log --format=medium --stat --summary --left-right

	# log, all branches+tags on all remotes
	la = "!git l --all"
	lao = "!git lo --all"
	laf = "!git lf --all"
	laff = "!git lff --all"
	lap = "!git lp --all"
	lad = "!git ld --all"

	# log, all branches+tags on remotes 'origin' and 'upstream'
	lg = "!git l --branches='*' --tags='*' --remotes={origin,upstream}"
	lgo = "!git lo --branches='*' --tags='*' --remotes={origin,upstream}"
	lgf = "!git lf --branches='*' --tags='*' --remotes={origin,upstream}"
	lgff = "!git lff --branches='*' --tags='*' --remotes={origin,upstream}"
	lgp = "!git lp --branches='*' --tags='*' --remotes={origin,upstream}"
	lgd = "!git ld --branches='*' --tags='*' --remotes={origin,upstream}"

	# log, simplified by decoration
	ls = "!git la --simplify-by-decoration"
	lso = "!git lao --simplify-by-decoration"
	lsf = "!git laf --simplify-by-decoration"
	lsff = "!git laff --simplify-by-decoration"
	lsp = "!git lap --simplify-by-decoration"
	lsd = "!git lad --simplify-by-decoration"

	sh = "!f() { git show --format=custom-fuller --stat --summary --patch \"${1:-HEAD}\"; }; f"
	w = "!f() { watch -ctn 2 git \"${@:-l}\"; }; f"
	rl = reflog --pretty=custom-reflog
	rlo = reflog --pretty=custom-oneline-reflog --date=short
	sl = stash list --pretty=custom-reflog --color
	slo = stash list --pretty=custom-oneline-reflog --color --date=short

	d = diff -c
	ds = diff --find-renames --stat -c
	dc = diff --cached -c
	dl = diff --cached -c HEAD~
	dr = "!f() { git diff \"${1:-HEAD}\"~..\"${1:-HEAD}\"; }; f"
	grep = grep -Ii

	s = status
	si = status --ignored
	siu = status --ignored --untracked-files

	a = add
	au = add --update
	ai = add --interactive
	ap = add --patch
	c = commit --verbose
	ca = commit --verbose --amend
	can = commit --verbose --amend --no-edit

	co = checkout
	com = checkout master
	cob = checkout -b
	b = branch
	bl = branch --all -vv
	bc = branch --contains
	bd = branch --delete --force
	bdr = "!f() { [ \"$#\" -gt 1 ] && REMOTE=\"$1\" && shift; git push --delete \"${REMOTE:-origin}\" \"$1\"; }; f"
	bt = "!f() { CURRENT=$(git symbolic-ref --short HEAD); git branch --set-upstream-to=\"${1:-origin/$CURRENT}\"; }; f"

	cl = clone
	p = pull
	f = fetch --tags
	fa = fetch --all --tags
	pfa = "!f() { git remote | xargs -I@ -P0 git fetch --tags \"$@\" @; }; f"
	su = submodule update --init --recursive

	pu = push
	puu = "!f() { CURRENT=$(git symbolic-ref --short HEAD); git push -u \"${1:-origin}\" \"$CURRENT\"; }; f"

	m = merge
	ma = merge --abort
	mc = merge --continue
	mff = merge --ff-only
	mnc = "!f() { git merge --no-commit --no-ff \"$@\"; EC=$?; git merge --abort; exit $EC; }; f"

	r = rebase
	ra = rebase --abort
	rc = rebase --continue
	rq = rebase --quit
	rs = rebase --skip
	ri = rebase --interactive
	rim = rebase --interactive master

	cp = cherry-pick
	cpa = cherry-pick --abort
	cpc = cherry-pick --continue
	cpq = cherry-pick --quit

	mt = mergetool
	dt = difftool

	re = reset
	rv = revert

	which = branch --contains
	who = shortlog --summary --numbered --no-merges
	whoami = !"git config --get user.name && git config --get user.email"

	# list aliases
	alias = "!git config --get-regexp alias | cut -c 7- | sed -e \"s/^/[1m/\" -e \"s/ /[0m$(echo 2B | xxd -r -p)/\" | column -t -s \"$(echo 2B | xxd -r -p)\" | sort | less -SR "

	# list branches sorted by last modified
	bls = "!git for-each-ref --sort='-authordate' --format='%(authordate)%09%(objectname:short)%09%(refname)' refs/heads | sed -e 's@refs/heads/@@'"

	# initialize repository in current directory
	this = "!git init && git commit --message='Initialize' --allow-empty"

	# open Github repository in browser
	open = "!f() { URL=$(git config remote.\"${1:-origin}\".url); xdg-open \"${URL%%.git}\"; }; f"

	# fetch and checkout a Github pull request
	pr = "!f() { git config remote.upstream.url > /dev/null 2>&1 && REMOTE=upstream || REMOTE=origin; [ \"$#\" -gt 1 ] && REMOTE=\"$1\" && shift; git fetch \"${REMOTE:-origin}\" \"pull/$1/head\" && git checkout FETCH_HEAD; }; f"

	# hard reset with commit before (use reflog to restore)
	wipe = "!f() { git add --all && git commit --quiet --message='WIPE-SAVEPOINT' && git reset \"${1:-HEAD~}\" --hard; }; f"

	# hard reset and clean
	nuke = !"git reset --hard HEAD && git clean -fd"

	# set up remotes for fork
	fork = "!f() { URL=$(git config remote.\"${1:-origin}\".url); git remote set-url \"${1:-origin}\" \"$(echo \"$URL\" | perl -pe 's/(?<=[:\\/])[^:\\/]+(?=\\/[^\\/]+$)/alfunx/')\"; git remote add \"${2:-upstream}\" \"$URL\"; }; f"

	# get gitignore from github/gitignore.git
	gitignore = "!f() { [ -f .gitignore ] && echo >> .gitignore; curl -f \"https://raw.githubusercontent.com/github/gitignore/master/${1}.gitignore\" | tee -a .gitignore; }; f"

	# generate tags file
	ctags = "!$HOME/.config/git/hooks/ctags"

	# fzf commands
	fbr = fzf-branch
	fco = fzf-checkout
	fcoc = fzf-checkout-commit
	fsha = fzf-print-sha
	fshow = fzf-show-commit
	fstash = fzf-show-stash

[svn]
	rmdir = true
